@model NGL.Web.Models.Schedule.SetModel

@{
    ViewBag.Title = "Set Schedule";
}

<h2>Set Schedule</h2>

<div class="profile-photo-container">
    <img src="@Model.ProfilePhotoUrl" />
</div>

<div class="student-name-and-usi">
    @Html.DisplayTextFor(m => m.StudentName)
    @Html.DisplayNameFor(m => m.StudentUsi): 
    @Html.DisplayTextFor(m => m.StudentUsi)
</div>

@using (var f = Html.BeginChameleonForm(htmlAttributes: new HtmlAttributes(new {id = "schedule-student-form"})))
{
    using (var s = f.BeginSection("Info"))
    {
        @s.FieldFor(m => m.Session).AddLabelClass("category-title")
        @s.FieldFor(m => m.BeginDate).AddClass("datepicker")
        @s.FieldFor(m => m.EndDate).AddClass("datepicker")
        <div class="hidden">
            @s.FieldFor(m => m.SectionId)
            @s.FieldFor(m => m.StudentUsi).Attr("value", @Model.StudentUsi)
        </div>
    }
}

<span class="category-title">
    Section @Html.TextBox("Section")
</span>
<button id="schedule-student-button">Save</button>

<div class="field-validation-error">
    @Html.DisplayTextFor(m => m.ErrorMessage)
</div>

<div class="current-sections-container">
    <span class="category-title">Sections Assigned</span>
    <table class="table table-condensed current-section-list">
        @foreach (var item in Model.CurrentlyEnrolledSections)
        {
            <tr class="current-section-list-item">
                <td class="scheduled-section-name">@Html.DisplayFor(modelItem => item.Name)</td>
                <td class="scheduled-section-dates">
                    <span class="scheduled-section-begin-date">@item.BeginDate</span> -
                    <span class="scheduled-section-end-date">@item.EndDate</span>
                </td>
                <td class="hidden section-id">@item.SectionId</td>
            </tr>
        }
    </table>
</div>

@section Scripts {
    Ngl.schedule.setSchedule.init();
}
